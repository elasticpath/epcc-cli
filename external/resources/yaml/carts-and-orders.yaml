
carts:
  singular-name: "cart"
  json-api-type: "cart"
  json-api-format: "legacy"
  docs: "https://elasticpath.dev/docs/api/carts/cart-management"
  get-collection:
    docs: "https://elasticpath.dev/docs/api/carts/get-carts"
    url: "/v2/carts"
    openapi-operation-id: getCarts
    query:
      - name: include
        type: STRING
      - name: page[limit]
        type: INT
      - name: page[offset]
        type: INT

  get-entity:
    docs: "https://elasticpath.dev/docs/api/carts/get-a-cart"
    url: "/v2/carts/{carts}"
    openapi-operation-id: getACart
    query:
      - name: include
        type: STRING
  update-entity:
    docs: "https://elasticpath.dev/docs/api/carts/create-a-cart#put-update-a-cart"
    url: "/v2/carts/{carts}"
    openapi-operation-id: updateACart
  delete-entity:
    docs: "https://elasticpath.dev/docs/api/carts/delete-a-cart"
    url: "/v2/carts/{carts}"
    openapi-operation-id: deleteACart
  create-entity:
    docs: "https://elasticpath.dev/docs/api/carts/create-a-cart"
    url: "/v2/carts"
    openapi-operation-id: createACart
    content-type: application/json
  attributes:
    id:
      type: STRING
    name:
      type: STRING
      autofill: FUNC:Noun
    description:
      type: STRING
cart-items:
  singular-name: "cart-item"
  json-api-type: "cart_item"
  json-api-format: "legacy"
  docs: "https://elasticpath.dev/docs/api/carts/cart-items"
  get-collection:
    docs: "https://elasticpath.dev/docs/api/carts/get-cart-items"
    url: "/v2/carts/{carts}/items"
    openapi-operation-id: getCartItems
    query:
      - name: include
        type: STRING
  update-entity:
    docs: "https://elasticpath.dev/docs/carts-orders/bulk-add-to-cart"
    url: "/v2/carts/{carts}/items/{cart_items}"
    openapi-operation-id: updateACartItem
  delete-entity:
    docs: "https://elasticpath.dev/docs/api/carts/delete-a-cart-item"
    url: "/v2/carts/{carts}/items/{cart_items}"
    openapi-operation-id: deleteACartItem
  attributes:
    sku:
      type: STRING
    quantity:
      type: INT
    id:
      type: RESOURCE_ID:pcm-products
cart-custom-discounts:
  singular-name: "cart-custom-discount"
  json-api-type: "custom_discount"
  json-api-format: "legacy"
  no-wrapping: true
  docs: "https://developer.elasticpath.com/docs/api/carts/bulk-add-custom-discounts-to-cart"
  create-entity:
    docs: "https://developer.elasticpath.com/docs/api/carts/bulk-add-custom-discounts-to-cart"
    url: "/v2/carts/{carts}/custom-discounts"
    openapi-operation-id: bulkAddCustomDiscountsToCart
    content-type: application/json
  delete-entity:
    docs: "https://developer.elasticpath.com/docs/api/carts/bulk-delete-custom-discounts-from-cart"
    url: "/v2/carts/{carts}/custom-discounts"
    openapi-operation-id: bulkDeleteCustomDiscountsFromCart
    content-type: application/json
  attributes:
    data[n].amount:
      type: INT
    data[n].amount.amount:
      type: INT
    data[n].amount.currency:
      type: CURRENCY
    data[n].amount.formatted:
      type: STRING
    data[n].external_id:
      type: STRING
    data[n].discount_code:
      type: STRING
    data[n].type:
      type: CONST:custom_discount
    data[n].description:
      type: STRING


cart-product-items:
  singular-name: "cart-product-item"
  json-api-type: "cart_item"
  json-api-format: "legacy"
  docs: "https://elasticpath.dev/docs/api/carts/cart-items"
  create-entity:
    docs: "https://elasticpath.dev/docs/api/carts/manage-carts"
    url: "/v2/carts/{carts}/items"
    openapi-operation-id: manageCarts
    content-type: application/json
  attributes:
    sku:
      type: RESOURCE_ID:pcm-products
      alias_attribute: sku
    quantity:
      type: INT
    id:
      type: RESOURCE_ID:pcm-products
    ^custom_inputs\.([a-zA-Z0-9_-]+)\.$:
      type: STRING
    tax[n].type:
      type: CONST:tax_item
    tax[n].name:
      type: STRING
    tax[n].juristiction:
      type: STRING
    tax[n].code:
      type: STRING
    tax[n].rate:
      type: FLOAT
    location:
      type: RESOURCE_ID:mli-inventory-locations
      alias_attribute: slug
cart-custom-items:
  singular-name: "cart-custom-item"
  json-api-type: "custom_item"
  json-api-format: "legacy"
  docs: "https://elasticpath.dev/docs/api/carts/manage-carts#add-custom-item-to-cart"
  create-entity:
    docs: "https://elasticpath.dev/docs/api/carts/manage-carts#add-custom-item-to-cart"
    url: "/v2/carts/{carts}/items"
    openapi-operation-id: manageCarts
    content-type: application/json
  update-entity:
    docs: "https://elasticpath.dev/docs/carts-orders/bulk-add-to-cart"
    url: "/v2/carts/{carts}/items/{cart_custom_items}"
    openapi-operation-id: updateACartItem
  attributes:
    sku:
      type: STRING
    quantity:
      type: INT
      autofill: FUNC:NonZeroUint8
    description:
      type: STRING
    name:
      type: STRING
      autofill: FUNC:CarModel
    ^custom_inputs\.([a-zA-Z0-9_-]+)\.$:
      type: STRING
    price.amount:
      type: INT
      autofill: FUNC:Uint16
    price.includes_tax:
      type: BOOL
    tax[n].type:
      type: CONST:tax_item
    tax[n].name:
      type: STRING
    tax[n].juristiction:
      type: STRING
    tax[n].code:
      type: STRING
    tax[n].rate:
      type: FLOAT
cart-checkout:
  singular-name: "cart-checkout"
  json-api-type: "checkout"
  json-api-format: "legacy"
  docs: "https://elasticpath.dev/docs/api/carts/checkout"
  create-entity:
    docs: "https://elasticpath.dev/docs/api/carts/checkout"
    url: "/v2/carts/{carts}/checkout"
    openapi-operation-id: checkoutAPI
    content-type: application/json
    creates: order
  attributes:
    account.id:
      type: RESOURCE_ID:account
      usage: "The account id to associate the order with"
    account.member_id:
      type: RESOURCE_ID:account-member
      usage: "The account member id to associate the order with"
    customer.id:
      type: RESOURCE_ID:customer
      usage: "The id of the customer to use, not used when checking out an order for an account."
    customer.email:
      type: STRING
    customer.name:
      type: STRING
    contact.name:
      type: STRING
      usage: "A contact name for the order, required when checking out an order for an account."
    contact.email:
      type: STRING
      usage: "A contact e-mail for the order, required when checking out an order for an account. "
    billing_address.first_name:
      type: STRING
      autofill: FUNC:FirstName
    billing_address.last_name:
      type: STRING
      autofill: FUNC:LastName
    billing_address.company_name:
      type: STRING
      autofill: FUNC:Company
    billing_address.line_1:
      type: STRING
      autofill: FUNC:Street
    billing_address.line_2:
      type: STRING
    billing_address.city:
      type: STRING
      autofill: FUNC:City
    billing_address.county:
      type: STRING
      autofill: FUNC:StateAbr
    billing_address.region:
      type: STRING
      autofill: FUNC:State
    billing_address.postcode:
      type: STRING
      autofill: FUNC:Zip
    billing_address.country:
      type: STRING
      autofill: FUNC:Country
    shipping_address.first_name:
      type: STRING
      autofill: FUNC:FirstName
    shipping_address.last_name:
      type: STRING
      autofill: FUNC:LastName
    shipping_address.company_name:
      type: STRING
      autofill: FUNC:Company
    shipping_address.line_1:
      type: STRING
      autofill: FUNC:Street
    shipping_address.line_2:
      type: STRING
    shipping_address.city:
      type: STRING
      autofill: FUNC:City
    shipping_address.county:
      type: STRING
      autofill: FUNC:StateAbr
    shipping_address.region:
      type: STRING
      autofill: FUNC:StateAbr
    shipping_address.postcode:
      type: STRING
      autofill: FUNC:Zip
    shipping_address.country:
      type: STRING
      autofill: FUNC:Country

orders:
  singular-name: "order"
  json-api-type: "order"
  json-api-format: "legacy"
  docs: "https://elasticpath.dev/docs/api/carts/orders"
  get-collection:
    docs: "https://elasticpath.dev/docs/api/carts/get-customer-orders"
    url: "/v2/orders"
    openapi-operation-id: getCustomerOrders
    query:
      - name: include
        type: STRING
      - name: page[limit]
        type: INT
      - name: page[offset]
        type: INT
      - name: filter
        type: STRING
  get-entity:
    docs: "https://elasticpath.dev/docs/api/carts/update-an-order"
    url: "/v2/orders/{orders}"
    openapi-operation-id: getAnOrder
    query:
      - name: include
        type: STRING
  update-entity:
    docs: "https://elasticpath.dev/docs/api/carts/orders"
    url: "/v2/orders/{orders}"
    openapi-operation-id: updateAnOrder
    content-type: application/json
  attributes:
    shipping_address.first_name:
      type: STRING
    shipping_address.last_name:
      type: STRING
    shipping_address.company_name:
      type: STRING
    shipping_address.line_1:
      type: STRING
    shipping_address.line_2:
      type: STRING
    shipping_address.city:
      type: STRING
    shipping_address.county:
      type: STRING
    shipping_address.region:
      type: STRING
    shipping_address.postcode:
      type: STRING
    shipping_address.country:
      type: STRING
  created_by:
    - verb: create
      resource: cart-checkout
order-items:
  singular-name: "order-item"
  json-api-type: "order_item"
  json-api-format: "legacy"
  docs: "https://elasticpath.dev/docs/api/carts/get-order-items"
  get-collection:
    docs: "https://elasticpath.dev/docs/api/carts/get-order-items#get-get-order-items"
    url: "/v2/orders/{orders}/items"
    openapi-operation-id: getOrderItems
    query:
      - name: include
        type: STRING
order-payments:
  singular-name: "order-payment"
  json-api-type: "order_payment"
  json-api-format: legacy
  # TODO change this to not send a type
  #no-wrapping: true
  docs: "https://elasticpath.dev/docs/api/carts/payments"
  create-entity:
    docs: "https://elasticpath.dev/docs/api/carts/payments"
    url: "/v2/orders/{orders}/payments"
    openapi-operation-id: paymentSetup
  attributes:
    payment:
      type: STRING
    gateway:
      type: ENUM:adyen,authorize_net,braintree,card_connect,cyber_source,paypal_express_checkout,stripe,stripe_connect,stripe_payment_intents,elastic_path_payments_stripe
    method:
      type: ENUM:purchase,authorize,capture,refund
    options.shopper_reference:
      type: STRING
    options.recurring_processing_model:
      type: STRING
    options.customer_payment_profile_id:
      type: STRING
    options.custom_fields:
      type: STRING
    options.description:
      type: STRING
    options.soft_descriptor:
      type: STRING
    options.application_context.return_url:
      type: STRING
    options.application_context.cancel_url:
      type: STRING
    options.application_context.shipping_preference:
      type: STRING
    options.application_context.landing_page:
      type: ENUM:LOGIN,BILLING,NO_PREFERENCE
    options.application_context.locale:
      type: STRING
    options.application_context.brand_name:
      type: STRING
    options.idempotency_key:
      type: STRING
    options.receipt_email:
      type: STRING
    options.customer:
      type: STRING
    amount:
      type: INT
order-transactions:
  singular-name: "order-transaction"
  json-api-type: "transaction"
  json-api-format: "legacy"
  docs: "https://elasticpath.dev/docs/api/carts/get-order-transactions"
  get-collection:
    docs: "https://elasticpath.dev/docs/api/carts/get-order-transactions"
    url: "/v2/orders/{orders}/transactions"
    openapi-operation-id: getOrderTransactions
  get-entity:
    docs: "https://elasticpath.dev/docs/api/carts/get-a-transaction"
    url: "/v2/orders/{orders}/transactions/{order_transactions}"
    openapi-operation-id: getATransaction
  create-entity:
    docs: "https://elasticpath.dev/docs/api/payments/payment-gateways-introduction"
    url: "/v2/orders/{orders}/payments"
    openapi-operation-id: paymentSetup
order-transaction-capture:
  singular-name: "order-transaction-capture"
  json-api-type: "transaction"
  json-api-format: "legacy"
  docs: "https://elasticpath.dev/docs/api/payments/payment-gateways-introduction#post-capture-transaction"
  create-entity:
    docs: "https://elasticpath.dev/docs/api/payments/payment-gateways-introduction#post-capture-transaction"
    url: "/v2/orders/{orders}/transactions/{order_transactions}/capture"
    openapi-operation-id: captureATransaction
order-transaction-refund:
  singular-name: "order-transaction-refund"
  json-api-type: "transaction"
  json-api-format: "legacy"
  docs: "https://elasticpath.dev/docs/carts-orders/refund-a-transaction"
  create-entity:
    docs: "https://elasticpath.dev/docs/carts-orders/refund-a-transaction"
    url: "/v2/orders/{orders}/transactions/{order_transactions}/refund"
    openapi-operation-id: refundATransaction

manual-orders:
  singular-name: "manual-order"
  json-api-type: order
  json-api-format: legacy
  docs: "https://elasticpath.dev/docs/api/carts/orders"
  create-entity:
    docs: "https://elasticpath.dev/docs/api/carts/orders"
    url: "/v2/orders"
  get-collection:
    docs: "https://elasticpath.dev/docs/api/carts/orders"
    url: "/v2/orders"
    default-query-params:
      filter: "eq(manual,true)"
    openapi-operation-id: getCustomerOrders
    query:
      - name: include
        type: STRING
      - name: page[limit]
        type: INT
      - name: page[offset]
        type: INT
      - name: filter
        type: STRING
  delete-entity:
    docs: "https://elasticpath.dev/docs/api/carts/orders"
    url: "/v2/orders/{orders}"


  attributes:
    id:
      type: STRING
      usage: "Optional custom order ID. If not provided, a UUID will be generated."
    status:
      type: ENUM:incomplete,processing,cancelled,complete
      usage: "The status of the order."
    payment:
      type: ENUM:paid,unpaid,refunded,partially_authorized,partially_paid
      usage: "The payment status of the order."
    shipping:
      type: ENUM:fulfilled,unfulfilled
      usage: "The shipping status of the order."
    anonymized:
      type: BOOL
      usage: "Whether the order should be anonymized."
    account.id:
      type: RESOURCE_ID:account
      usage: "The unique identifier of the account."
    account.member_id:
      type: RESOURCE_ID:account-member
      usage: "The unique identifier of the account member."
    contact.name:
      type: STRING
      usage: "Contact name for the order."
    contact.email:
      type: STRING
      usage: "Contact email for the order."
    customer.id:
      type: RESOURCE_ID:customer
      usage: "The unique identifier of the customer."
      autofill: FUNC:UUID
    customer.email:
      type: STRING
      usage: "Customer email address."
      autofill: FUNC:Email
    customer.name:
      type: STRING
      usage: "Customer name."
      autofill: FUNC:Name
    shipping_address.first_name:
      type: STRING
      autofill: FUNC:FirstName
    shipping_address.last_name:
      type: STRING
      autofill: FUNC:LastName
    shipping_address.company_name:
      type: STRING
      autofill: FUNC:Company
    shipping_address.line_1:
      type: STRING
      autofill: FUNC:Street
    shipping_address.line_2:
      type: STRING
    shipping_address.city:
      type: STRING
      autofill: FUNC:City
    shipping_address.county:
      type: STRING
    shipping_address.region:
      type: STRING
      autofill: FUNC:State
    shipping_address.postcode:
      type: STRING
      autofill: FUNC:Zip
    shipping_address.country:
      type: STRING
      autofill: FUNC:Country
    billing_address.first_name:
      type: STRING
      autofill: FUNC:FirstName
    billing_address.last_name:
      type: STRING
      autofill: FUNC:LastName
    billing_address.company_name:
      type: STRING
      autofill: FUNC:Company
    billing_address.line_1:
      type: STRING
      autofill: FUNC:Street
    billing_address.line_2:
      type: STRING
    billing_address.city:
      type: STRING
      autofill: FUNC:City
    billing_address.county:
      type: STRING
    billing_address.region:
      type: STRING
      autofill: FUNC:State
    billing_address.postcode:
      type: STRING
      autofill: FUNC:Zip
    billing_address.country:
      type: STRING
      autofill: FUNC:Country
    ^meta\.display_price\.(with_tax|without_tax|tax|discount|balance_owing|paid|authorized|without_discount|shipping|shipping_discount)\.amount$:
      type: INT
      usage: "The amount of the order specified in currency subunits"
    ^meta\.display_price\.(with_tax|without_tax|tax|discount|balance_owing|paid|authorized|without_discount|shipping|shipping_discount)\.currency$:
      type: CURRENCY
      usage: "The currency"
    ^meta\.display_price\.(with_tax|without_tax|tax|discount|balance_owing|paid|authorized|without_discount|shipping|shipping_discount)\.formatted$:
      type: STRING
      usage: "The amount of the order specified as a formatted string"
    included.items[n].id:
      type: STRING
      usage: "The unique identifier of the item."
    included.items[n].type:
      type: CONST:order_item
    included.items[n].quantity:
      type: INT
    included.items[n].location:
      type: STRING
    included.items[n].product_id:
      type: RESOURCE_ID:pcm-product
    included.items[n].subscription_offering_id:
      type: RESOURCE_ID:subscription-offerings
    included.items[n].name:
      type: STRING
    included.items[n].sku:
      type: STRING
    ^included\.items\[n\]\.(unit_price|value)\.amount$:
      type: INT
      usage: "An amount in currency subunits if applicable (e.g., $100.00 would be 10000)"
    ^included\.items\[n\]\.(unit_price|value)\.currency$:
      type: CURRENCY
    ^included\.items\[n\]\.(unit_price|value)\.include_tax$:
      type: BOOL
    ^included\.items\[n\]\.meta\.display_price\.(with_tax|without_tax|tax|discount_without_discount)\.(unit|value)\.amount$:
      type: INT
      usage: "An amount in currency subunits if applicable (e.g., $100.00 would be 10000)"
    ^included\.items\[n\]\.meta\.display_price\.(with_tax|without_tax|tax|discount_without_discount)\.(unit|value)\.currency$:
      type: CURRENCY
    ^included\.items\[n\]\.meta\.display_price\.(with_tax|without_tax|tax|discount_without_discount)\.(unit|value)\.formatted$:
      usage: "A formatted amount e.g., $100.00"
      type: STRING
    included.items[n].meta.timestamps.created_at:
      type: STRING
    included.items[n].meta.timestamps.updated_at:
      type: STRING
